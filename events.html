<!DOCTYPE html>
<html>
<head>
    <title>Events Examples</title>
    <script src="Sprockets.js"></script>
    <script>
	function assert(predicate, message) {
		if(!predicate) throw new Error(message || "Assert condition failed");
		else return true;
	}
	function test(delegate) {
		var string = "Test: " + delegate.name;
		
		try { 
			delegate();
			string += " passed.";
		}
		catch (error) { string += " failed.  Reason: " + error; }
		console.log(string);
	}
	
	var result = false;
	var handle = new Sprockets.Html(window);
		
	handle.subscribe("load", function () {
		result = true;
		test(Loaded);
	});
	function Loaded() {		
		assert(result === true);
	}
    </script>
</head>
<body>
</body>
</html>
